require 'test_helper'

class SystemMailerTest < ActionMailer::TestCase
  test "welcome" do
    mail = SystemMailer.welcome
    assert_equal "Welcome", mail.subject
    assert_equal ["to@example.org"], mail.to
    assert_equal ["from@example.com"], mail.from
    assert_match "Hi", mail.body.encoded
  end

  test "contact" do
    mail = SystemMailer.contact
    assert_equal "Contact", mail.subject
    assert_equal ["to@example.org"], mail.to
    assert_equal ["from@example.com"], mail.from
    assert_match "Hi", mail.body.encoded
  end

  test "created_book" do
    mail = SystemMailer.created_book
    assert_equal "Created book", mail.subject
    assert_equal ["to@example.org"], mail.to
    assert_equal ["from@example.com"], mail.from
    assert_match "Hi", mail.body.encoded
  end

  test "created_memorial" do
    mail = SystemMailer.created_memorial
    assert_equal "Created memorial", mail.subject
    assert_equal ["to@example.org"], mail.to
    assert_equal ["from@example.com"], mail.from
    assert_match "Hi", mail.body.encoded
  end

  test "destoryed_memorial" do
    mail = SystemMailer.destoryed_memorial
    assert_equal "Destoryed memorial", mail.subject
    assert_equal ["to@example.org"], mail.to
    assert_equal ["from@example.com"], mail.from
    assert_match "Hi", mail.body.encoded
  end

end
